/*
 * @Date: 2021-03-29 08:34:28
 * @Author: Mengsen Wang
 * @LastEditors: Mengsen Wang
 * @LastEditTime: 2021-03-29 08:51:51
 */

fn reverse_bits(mut x: u32) -> u32 {
    x = ((x >> 1) & 0x55555555) | ((x & 0x55555555) << 1);
    x = ((x >> 2) & 0x33333333) | ((x & 0x33333333) << 2);
    x = ((x >> 4) & 0x0f0f0f0f) | ((x & 0x0f0f0f0f) << 4);
    x = ((x >> 8) & 0x00ff00ff) | ((x & 0x00ff00ff) << 8);
    (x >> 16) | (x << 16)
}

fn main() {
    assert_eq!(
        reverse_bits(0b00000010100101000001111010011100),
        0b00111001011110000010100101000000
    );
    assert_eq!(reverse_bits(0b00000010100101000001111010011100), 964176192);
    assert_eq!(
        reverse_bits(0b11111111111111111111111111111101),
        0b10111111111111111111111111111111
    );
    assert_eq!(reverse_bits(0b11111111111111111111111111111101), 3221225471);
}
